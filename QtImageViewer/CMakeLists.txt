PROJECT(QtSlicer)

INCLUDE (${CMAKE_ROOT}/Modules/FindGLU.cmake)

INCLUDE (${CMAKE_ROOT}/Modules/FindITK.cmake)
IF(USE_ITK_FILE)
   INCLUDE(${USE_ITK_FILE})
ENDIF(USE_ITK_FILE)

# 
# Find QT
#
INCLUDE (${CMAKE_ROOT}/Modules/FindQt.cmake)

INCLUDE_DIRECTORIES(
 ${QT_INCLUDE_PATH}
 ${QT_INCLUDE_DIR}
 ${QtSlicer_BINARY_DIR}
 ${QtSlicer_SOURCE_DIR}
)

LINK_LIBRARIES(
 ${QT_QT_LIBRARY}
 ITKCommon
 ITKIO
 VXLNumerics
 MetaIO
 ${GLU_LIBRARY}
)

SOURCE_FILES(QtSlicer_SRCS 
QtSlicerTest.cxx
QtGlSliceView.cxx
QtSlicer.cxx
)

SOURCE_FILES(QtSlicer_GUI_SRCS 
QtSlicerGUI.ui
QtSlicerHelpGUI.ui
)

SOURCE_FILES(QtSlicer_MOC_SRCS 
QtGlSliceView.h
)

IF(QT_WRAP_UI)
  QT_WRAP_UI(QtSlicer QtSlicer_HDRS  QtSlicer_SRCS  QtSlicer_GUI_SRCS )
ENDIF(QT_WRAP_UI)

IF(QT_WRAP_CPP)
  QT_WRAP_CPP(QtSlicer QtSlicer_SRCS QtSlicer_MOC_SRCS)
ENDIF(QT_WRAP_CPP)
ADD_DEFINITIONS(-DQT_DLL)
ADD_DEFINITIONS(-DQT_THREAD_SUPPORT)

ADD_EXECUTABLE(QtSlicer QtSlicer_SRCS)


